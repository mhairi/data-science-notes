---
title: "Supplement 4 - Subsetting Vectors"
author: "Mhairi McNeill and Robert Raeside"
date: "25 July 2016"
output: html_document
---
# Data subsets

## Numeric subsets

Often when analysing data we want to find and use certain elements of a vector. Let's have a look at our spinach ratings again:

```{r}
df$spinach_rating
```

If we want to take only the first element of this, we can use square brackets after the vector to tell R that we only want to first element.

```{r}
df$spinach_rating[1]
```

If we want the first three elements instead we can put a vector in the square brackets.

```{r}
df$spinach_rating[c(1, 2, 3)]
```

The position of an element is often called the elements *index*. Above we found the spinach ratings with index 1, 2 and 3. 

### Exercise

  1. Extract elements 3 and 4 from the spinach rating vector.

  2. Extract the element with index 10. 

## Logical subsets

At the start I introduced you to three types of vectors: numeric, character and logical. We've seen lots of numeric data, a few pieces of character data but we've not looked at logical data very much. While we often have data which is naturally true or false, most commonly in R we create logical data to help us do other things.

It's very easy to create a logical vector from another type of vector. We just use R code to write down a true or false answer question. For example, if we want to create a new vector which tells us if someone is under 150cm tall we just write down:

```{r}
df$height < 150
```

R returns to us a vector of true and false values. You might remember the meaning of the `<` symbol. It is just a short hand way of saying 'less-than'. For every element of `df$height` R checks if that element is less than 150cm and returns `TRUE` or `FALSE` correspondingly.

We can use this to create a new vector in our data frame called `is_tall`, where being tall is defined as being over 150cm. Here we are using the reverse of 'less-than', `>`, which means 'greater-than'. 

```{r}
df$is_tall <- df$height > 150
```

### Exercise

  1. Add a new logical vector to `df` which tells you if someone likes spinach or not (Say anyone giving a rating greater than zero likes spinach). Use `str` to verify that `df` has changed.
  2. Create a bar chart to see the proportions of people who like spinach.
